# 영속성 관리

영속성 컨텍스트

- 엔티티를 영구 저장하는 환경 이라는 뜻
- 객체와 DB 사이에서 객체를 보관하는 가상의 DB 역할
- 논리적인 개념. 눈에 보이지 않아 엔티티 매니저를 통해 접근
- 엔티티 매니저는 요청이 들어오면 엔티티 매니저 팩토리에 의해 생성

엔티티의 생명주기

- 비영속
- 영속
- 준영속
- 삭제

영속성 컨텍스트의 이점

- 1차 캐시, 동일성 보장
- 트랜잭션을 지원하는 쓰기 지연
- 변경 감지
- 지연 로딩

플러시

- 영속성 컨텍스트의 변경 내용을 데이터베이스에 반영
- 플러시 발생 시 변경 감지 -> 쓰기 지연 SQL 저장소에 저장 -> 쓰기 지연 SQL 저장소의 쿼리를 데이터베이스에 전송
- 호출하는 방법은 flush로 직접 호출, commit과 JPQL 실행으로 자동 호출

[자세한 내용은 블로그에 정리했습니다.](https://hsh519.tistory.com/91)

## REFERENCE

- [자바 ORM 표준 JPA 프로그래밍 - 기본편](https://www.inflearn.com/course/ORM-JPA-Basic/dashboard)
